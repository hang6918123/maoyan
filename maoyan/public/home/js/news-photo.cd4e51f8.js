webpackJsonp([15],{0:function(e,t,s){"use strict";function o(e,t,s){return null==e?e:(e=e.replace("/w.h/","/"),e=e.split("@")[0],t&&s&&(e=e+"@"+t+"w_"+s+"h_1e_1c"),e)}s(44),s(46),s(409),s(410),s(420);var i=s(425),r=system.photoInfoList&&system.photoInfoList.map(function(e){return{src:o(e.imageUrl),thumb:o(e.imageUrl,160,160),subHtml:e.content?"<div>"+e.content+"</div>":""}});$("body").lightGallery($.extend({},{closable:!1,dynamic:!0,thumbnail:!0,thumbWidth:80,thumbContHeight:88,thumbMargin:0,hideControlOnEnd:!0,download:!1,loop:!1,dynamicEl:r,container:".lg-container",appendCounterTo:".gallery-counter"},{index:0})).on("onAfterOpen.lg",function(){$(".gallery-counter-container").show()});var n=$(".slide-right");n.commentList({moreCommentOpts:{offset:10,url:"/ajax/proxy/sns/news/"+system.newsId+"/comments.json"},resolve:i.resolveNewsComment}),$(".gallery-header .approve").approve({upType:2}),$(".share-btn").share({mUrl:"http://m.maoyan.com/information/"+system.newsId+"?_v_=yes",img:system.shareImg,actKey:"news"});var a=n.find(".comment-list"),l=n.find(".loading-banner"),u=0,h=n.height(),c=10;n.on("scroll",function(e){var t=$(this).scrollTop();t>u&&a.height()-t-h<=c&&l.find(".click").trigger("click"),u=t}),s(426)},44:261,46:function(e,t){/*! lightgallery - v1.2.21 - 2016-06-28
	* http://sachinchoolur.github.io/lightGallery/
	* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
!function(e,t,s,o){"use strict";function i(t,o){if(this.el=t,this.$el=e(t),this.s=e.extend({},r,o),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in s.documentElement,this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=e(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(e(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var r={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1,container:"body"};i.prototype.init=function(){var s=this;s.s.preload>s.$items.length&&(s.s.preload=s.$items.length);var o=t.location.hash;o.indexOf("lg="+this.s.galleryId)>0&&(s.index=parseInt(o.split("&slide=")[1],10),e(s.s.container).addClass("lg-from-hash"),e(s.s.container).hasClass("lg-on")||setTimeout(function(){s.build(s.index),e(s.s.container).addClass("lg-on")})),s.s.dynamic?(s.$el.trigger("onBeforeOpen.lg"),s.index=s.s.index||0,e(s.s.container).hasClass("lg-on")||setTimeout(function(){s.build(s.index),e(s.s.container).addClass("lg-on")})):s.$items.on("click.lgcustom",function(t){try{t.preventDefault(),t.preventDefault()}catch(e){t.returnValue=!1}s.$el.trigger("onBeforeOpen.lg"),s.index=s.s.index||s.$items.index(this),e(s.s.container).hasClass("lg-on")||(s.build(s.index),e(s.s.container).addClass("lg-on"))})},i.prototype.build=function(t){var s=this;s.structure(),e.each(e.fn.lightGallery.modules,function(t){s.modules[t]=new e.fn.lightGallery.modules[t](s.el)}),s.slide(t,!1,!1),s.s.keyPress&&s.keyPress(),s.$items.length>1&&(s.arrow(),setTimeout(function(){s.enableDrag(),s.enableSwipe()},50),s.s.mousewheel&&s.mousewheel()),s.counter(),s.closeGallery(),s.$el.trigger("onAfterOpen.lg"),s.$outer.on("mousemove.lg click.lg touchstart.lg",function(){s.$outer.removeClass("lg-hide-items"),clearTimeout(s.hideBartimeout),s.hideBartimeout=setTimeout(function(){s.$outer.addClass("lg-hide-items")},s.s.hideBarsDelay)})},i.prototype.structure=function(){var s,o="",i="",r=0,n="",a=this;for(e(this.s.container).append('<div class="lg-backdrop"></div>'),e(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),r=0;r<this.$items.length;r++)o+='<div class="lg-item"></div>';if(this.s.controls&&this.$items.length>1&&(i='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(n='<div class="lg-sub-html"></div>'),s='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+o+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+i+n+"</div></div>",e(this.s.container).append(s),this.$outer=e(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),a.setTop(),e(t).on("resize.lg orientationchange.lg",function(){setTimeout(function(){a.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var l=this.$outer.find(".lg-inner");l.css("transition-timing-function",this.s.cssEasing),l.css("transition-duration",this.s.speed+"ms")}e(".lg-backdrop").addClass("in"),setTimeout(function(){a.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=e(t).scrollTop()},i.prototype.setTop=function(){if("100%"!==this.s.height){var s=e(t).height(),o=(s-parseInt(this.s.height,10))/2,i=this.$outer.find(".lg");s>=parseInt(this.s.height,10)?i.css("top",o+"px"):i.css("top","0px")}},i.prototype.doCss=function(){var e=function(){var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=s.documentElement,o=0;for(o=0;o<e.length;o++)if(e[o]in t.style)return!0};return!!e()},i.prototype.isVideo=function(e,t){var s;if(s=this.s.dynamic?this.s.dynamicEl[t].html:this.$items.eq(t).attr("data-html"),!e&&s)return{html5:!0};var o=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),i=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),r=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),n=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return o?{youtube:o}:i?{vimeo:i}:r?{dailymotion:r}:n?{vk:n}:void 0},i.prototype.counter=function(){this.s.counter&&e(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},i.prototype.addHtml=function(t){var s,o,i=null;if(this.s.dynamic?this.s.dynamicEl[t].subHtmlUrl?s=this.s.dynamicEl[t].subHtmlUrl:i=this.s.dynamicEl[t].subHtml:(o=this.$items.eq(t),o.attr("data-sub-html-url")?s=o.attr("data-sub-html-url"):(i=o.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!i&&(i=o.attr("title")||o.find("img").first().attr("alt")))),!s)if("undefined"!=typeof i&&null!==i){var r=i.substring(0,1);"."!==r&&"#"!==r||(i=this.s.subHtmlSelectorRelative&&!this.s.dynamic?o.find(i).html():e(i).html())}else i="";".lg-sub-html"===this.s.appendSubHtmlTo?s?this.$outer.find(this.s.appendSubHtmlTo).load(s):this.$outer.find(this.s.appendSubHtmlTo).html(i):s?this.$slide.eq(t).load(s):this.$slide.eq(t).append(i),"undefined"!=typeof i&&null!==i&&(""===i?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[t])},i.prototype.preload=function(e){var t=1,s=1;for(t=1;t<=this.s.preload&&!(t>=this.$items.length-e);t++)this.loadContent(e+t,!1,0);for(s=1;s<=this.s.preload&&!(e-s<0);s++)this.loadContent(e-s,!1,0)},i.prototype.loadContent=function(s,o,i){var r,n,a,l,u,h,c=this,d=!1,p=function(s){for(var o=[],i=[],r=0;r<s.length;r++){var a=s[r].split(" ");""===a[0]&&a.splice(0,1),i.push(a[0]),o.push(a[1])}for(var l=e(t).width(),u=0;u<o.length;u++)if(parseInt(o[u],10)>l){n=i[u];break}};if(c.s.dynamic){if(c.s.dynamicEl[s].poster&&(d=!0,a=c.s.dynamicEl[s].poster),h=c.s.dynamicEl[s].html,n=c.s.dynamicEl[s].src,c.s.dynamicEl[s].responsive){var m=c.s.dynamicEl[s].responsive.split(",");p(m)}l=c.s.dynamicEl[s].srcset,u=c.s.dynamicEl[s].sizes}else{if(c.$items.eq(s).attr("data-poster")&&(d=!0,a=c.$items.eq(s).attr("data-poster")),h=c.$items.eq(s).attr("data-html"),n=c.$items.eq(s).attr("href")||c.$items.eq(s).attr("data-src"),c.$items.eq(s).attr("data-responsive")){var g=c.$items.eq(s).attr("data-responsive").split(",");p(g)}l=c.$items.eq(s).attr("data-srcset"),u=c.$items.eq(s).attr("data-sizes")}var f=!1;c.s.dynamic?c.s.dynamicEl[s].iframe&&(f=!0):"true"===c.$items.eq(s).attr("data-iframe")&&(f=!0);var v=c.isVideo(n,s);if(!c.$slide.eq(s).hasClass("lg-loaded")){if(f)c.$slide.eq(s).prepend('<div class="lg-video-cont" style="max-width:'+c.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+n+'"  allowfullscreen="true"></iframe></div></div>');else if(d){var b="";b=v&&v.youtube?"lg-has-youtube":v&&v.vimeo?"lg-has-vimeo":"lg-has-html5",c.$slide.eq(s).prepend('<div class="lg-video-cont '+b+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+a+'" /></div></div>')}else v?(c.$slide.eq(s).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),c.$el.trigger("hasVideo.lg",[s,n,h])):c.$slide.eq(s).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+n+'" /></div>');if(c.$el.trigger("onAferAppendSlide.lg",[s]),r=c.$slide.eq(s).find(".lg-object"),u&&r.attr("sizes",u),l){r.attr("srcset",l);try{picturefill({elements:[r[0]]})}catch(e){t.console&&console.error("Make sure you have included Picturefill version 2")}}".lg-sub-html"!==c.s.appendSubHtmlTo&&c.addHtml(s),c.$slide.eq(s).addClass("lg-loaded")}c.$slide.eq(s).find(".lg-object").on("load.lg error.lg",function(){var t=0;i&&!e(c.s.container).hasClass("lg-from-hash")&&(t=i),setTimeout(function(){c.$slide.eq(s).addClass("lg-complete"),c.$el.trigger("onSlideItemLoad.lg",[s,i||0])},t)}),v&&v.html5&&!d&&c.$slide.eq(s).addClass("lg-complete"),o===!0&&(c.$slide.eq(s).hasClass("lg-complete")?c.preload(s):c.$slide.eq(s).find(".lg-object").on("load.lg error.lg",function(){c.preload(s)}))},i.prototype.slide=function(t,s,o){var i=this.$outer.find(".lg-current").index(),r=this;if(!r.lGalleryOn||i!==t){var n=this.$slide.length,a=r.lGalleryOn?this.s.speed:0,l=!1,u=!1;if(!r.lgBusy){if(this.s.download){var h;h=r.s.dynamic?r.s.dynamicEl[t].downloadUrl!==!1&&(r.s.dynamicEl[t].downloadUrl||r.s.dynamicEl[t].src):"false"!==r.$items.eq(t).attr("data-download-url")&&(r.$items.eq(t).attr("data-download-url")||r.$items.eq(t).attr("href")||r.$items.eq(t).attr("data-src")),h?(e("#lg-download").attr("href",h),r.$outer.removeClass("lg-hide-download")):r.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[i,t,s,o]),r.lgBusy=!0,clearTimeout(r.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){r.addHtml(t)},a),this.arrowDisable(t),s){var c=t-1,d=t+1;0===t&&i===n-1?(d=0,c=n-1):t===n-1&&0===i&&(d=0,c=n-1),this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"),r.$slide.eq(c).addClass("lg-prev-slide"),r.$slide.eq(d).addClass("lg-next-slide"),r.$slide.eq(t).addClass("lg-current")}else r.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),t<i?(u=!0,0!==t||i!==n-1||o||(u=!1,l=!0)):t>i&&(l=!0,t!==n-1||0!==i||o||(u=!0,l=!1)),u?(this.$slide.eq(t).addClass("lg-prev-slide"),this.$slide.eq(i).addClass("lg-next-slide")):l&&(this.$slide.eq(t).addClass("lg-next-slide"),this.$slide.eq(i).addClass("lg-prev-slide")),setTimeout(function(){r.$slide.removeClass("lg-current"),r.$slide.eq(t).addClass("lg-current"),r.$outer.removeClass("lg-no-trans")},50);r.lGalleryOn?(setTimeout(function(){r.loadContent(t,!0,0)},this.s.speed+50),setTimeout(function(){r.lgBusy=!1,r.$el.trigger("onAfterSlide.lg",[i,t,s,o])},this.s.speed)):(r.loadContent(t,!0,r.s.backdropDuration),r.lgBusy=!1,r.$el.trigger("onAfterSlide.lg",[i,t,s,o])),r.lGalleryOn=!0,this.s.counter&&e("#lg-counter-current").text(t+1)}}},i.prototype.goToNextSlide=function(e){var t=this;t.lgBusy||(t.index+1<t.$slide.length?(t.index++,t.$el.trigger("onBeforeNextSlide.lg",[t.index]),t.slide(t.index,e,!1)):t.s.loop?(t.index=0,t.$el.trigger("onBeforeNextSlide.lg",[t.index]),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(t.$outer.addClass("lg-right-end"),setTimeout(function(){t.$outer.removeClass("lg-right-end")},400)))},i.prototype.goToPrevSlide=function(e){var t=this;t.lgBusy||(t.index>0?(t.index--,t.$el.trigger("onBeforePrevSlide.lg",[t.index,e]),t.slide(t.index,e,!1)):t.s.loop?(t.index=t.$items.length-1,t.$el.trigger("onBeforePrevSlide.lg",[t.index,e]),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(t.$outer.addClass("lg-left-end"),setTimeout(function(){t.$outer.removeClass("lg-left-end")},400)))},i.prototype.keyPress=function(){var s=this;this.$items.length>1&&e(t).on("keyup.lg",function(e){s.$items.length>1&&(37===e.keyCode&&(e.preventDefault(),s.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),s.goToNextSlide()))}),e(t).on("keydown.lg",function(e){s.s.escKey===!0&&27===e.keyCode&&(e.preventDefault(),s.$outer.hasClass("lg-thumb-open")?s.$outer.removeClass("lg-thumb-open"):s.destroy())})},i.prototype.arrow=function(){var e=this;this.$outer.find(".lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){e.goToNextSlide()})},i.prototype.arrowDisable=function(e){!this.s.loop&&this.s.hideControlOnEnd&&(e+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),e>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},i.prototype.setTranslate=function(e,t,s){this.s.useLeft?e.css("left",t):e.css({transform:"translate3d("+t+"px, "+s+"px, 0px)"})},i.prototype.touchMove=function(t,s){var o=s-t;Math.abs(o)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),o,0),this.setTranslate(e(".lg-prev-slide"),-this.$slide.eq(this.index).width()+o,0),this.setTranslate(e(".lg-next-slide"),this.$slide.eq(this.index).width()+o,0))},i.prototype.touchEnd=function(e){var t=this;"lg-slide"!==t.s.mode&&t.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){t.$outer.removeClass("lg-dragging"),e<0&&Math.abs(e)>t.s.swipeThreshold?t.goToNextSlide(!0):e>0&&Math.abs(e)>t.s.swipeThreshold?t.goToPrevSlide(!0):Math.abs(e)<5&&t.$el.trigger("onSlideClick.lg"),t.$slide.removeAttr("style")}),setTimeout(function(){t.$outer.hasClass("lg-dragging")||"lg-slide"===t.s.mode||t.$outer.removeClass("lg-slide")},t.s.speed+100)},i.prototype.enableSwipe=function(){var e=this,t=0,s=0,o=!1;e.s.enableSwipe&&e.isTouch&&e.doCss()&&(e.$slide.on("touchstart.lg",function(s){e.$outer.hasClass("lg-zoomed")||e.lgBusy||(s.preventDefault(),e.manageSwipeClass(),t=s.originalEvent.targetTouches[0].pageX)}),e.$slide.on("touchmove.lg",function(i){e.$outer.hasClass("lg-zoomed")||(i.preventDefault(),s=i.originalEvent.targetTouches[0].pageX,e.touchMove(t,s),o=!0)}),e.$slide.on("touchend.lg",function(){e.$outer.hasClass("lg-zoomed")||(o?(o=!1,e.touchEnd(s-t)):e.$el.trigger("onSlideClick.lg"))}))},i.prototype.enableDrag=function(){var s=this,o=0,i=0,r=!1,n=!1;s.s.enableDrag&&!s.isTouch&&s.doCss()&&(s.$slide.on("mousedown.lg",function(t){s.$outer.hasClass("lg-zoomed")||(e(t.target).hasClass("lg-object")||e(t.target).hasClass("lg-video-play"))&&(t.preventDefault(),s.lgBusy||(s.manageSwipeClass(),o=t.pageX,r=!0,s.$outer.scrollLeft+=1,s.$outer.scrollLeft-=1,s.$outer.removeClass("lg-grab").addClass("lg-grabbing"),s.$el.trigger("onDragstart.lg")))}),e(t).on("mousemove.lg",function(e){r&&(n=!0,i=e.pageX,s.touchMove(o,i),s.$el.trigger("onDragmove.lg"))}),e(t).on("mouseup.lg",function(t){n?(n=!1,s.touchEnd(i-o),s.$el.trigger("onDragend.lg")):(e(t.target).hasClass("lg-object")||e(t.target).hasClass("lg-video-play"))&&s.$el.trigger("onSlideClick.lg"),r&&(r=!1,s.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},i.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1,s=this.$slide.length;this.s.loop&&(0===this.index?t=s-1:this.index===s-1&&(e=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.$slide.eq(t).addClass("lg-prev-slide"),this.$slide.eq(e).addClass("lg-next-slide")},i.prototype.mousewheel=function(){var e=this;e.$outer.on("mousewheel.lg",function(t){t.deltaY&&(t.deltaY>0?e.goToPrevSlide():e.goToNextSlide(),t.preventDefault())})},i.prototype.closeGallery=function(){var t=this,s=!1;this.$outer.find(".lg-close").on("click.lg",function(){t.destroy()}),t.s.closable&&(t.$outer.on("mousedown.lg",function(t){s=!!(e(t.target).is(".lg-outer")||e(t.target).is(".lg-item ")||e(t.target).is(".lg-img-wrap"))}),t.$outer.on("mouseup.lg",function(o){(e(o.target).is(".lg-outer")||e(o.target).is(".lg-item ")||e(o.target).is(".lg-img-wrap")&&s)&&(t.$outer.hasClass("lg-dragging")||t.destroy())}))},i.prototype.destroy=function(s){var o=this;s||o.$el.trigger("onBeforeClose.lg"),e(t).scrollTop(o.prevScrollTop),s&&(o.s.dynamic||this.$items.off("click.lg click.lgcustom"),e.removeData(o.el,"lightGallery")),this.$el.off(".lg.tm"),e.each(e.fn.lightGallery.modules,function(e){o.modules[e]&&o.modules[e].destroy()}),this.lGalleryOn=!1,clearTimeout(o.hideBartimeout),this.hideBartimeout=!1,e(t).off(".lg"),e(this.s.container).removeClass("lg-on lg-from-hash"),o.$outer&&o.$outer.removeClass("lg-visible"),e(".lg-backdrop").removeClass("in"),setTimeout(function(){o.$outer&&o.$outer.remove(),e(".lg-backdrop").remove(),s||o.$el.trigger("onCloseAfter.lg")},o.s.backdropDuration+50)},e.fn.lightGallery=function(s){return this.each(function(){if(e.data(this,"lightGallery"))try{e(this).data("lightGallery").init()}catch(e){t.console&&console.error("lightGallery has not initiated properly")}else e.data(this,"lightGallery",new i(this,s))})},e.fn.lightGallery.modules={}}(jQuery,window,document)},218:function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=s(35),r=o(i),n=/[\?&](utm_term|utm_medium|utm_source|utm_content|utm_campaign)=([^&]+)/g,a=void 0;e.exports={noRepeatRequest:function(e){var t=!1;return function(){if(!t){t=!0;var s=e.apply(this,arguments);s&&s.then?s.then(function(){t=!1}).fail(function(){t=!1}):(console.error("fail to no repeat request"),t=!1)}}},utmParam:function(e){if(!a){if(a={},location.search.replace(n,function(e,t,s){a[t]=s}),!(a.utm_term||a.utm_medium||a.utm_source||a.utm_content||a.utm_campaign)){var t=decodeURIComponent(r.default.get("_lx_utm"));t.replace(n,function(e,t,s){a[t]=s})}a.uuid=r.default.get("uuid"),a.ci=ci}var s="";for(var o in a)if(a.hasOwnProperty(o)&&null!=a[o]){if(~e.indexOf("&"+o+"=")||~e.indexOf("?"+o+"="))continue;s+="&"+o+"="+a[o]}return~e.indexOf("?")||(s=s.replace("&","?")),e+s}}},387:function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s(37),n=o(r),a=function(){function e(t,s){i(this,e);var o=this;this.visible=!1,this.$baseElement=s,this.$baseElement.wrap("<div></div>"),this.$container=this.$baseElement.parent(),this.$container.css({display:"inline-block",position:"relative"}),this.$content=(0,n.default)("<div></div>").css({position:"absolute",top:0,left:0,"z-index":10}).appendTo(this.$container),this.$content.hide(),this.$content.append(t),this.$container.hover(function(){o.show()},function(){o.hide()})}return e.prototype.position=function(){var e=this.$baseElement.outerHeight(!0);this.$content.css({top:e+"px",left:0})},e.prototype.show=function(){this.visible=!0,this.$content.show(),this.position()},e.prototype.hide=function(){this.visible=!1,this.$content.hide()},e}();n.default.fn.globalOverlay=function(e){this.each(function(t,s){new a(e,(0,n.default)(s))})},t.default=a},388:function(e,t){var s;!function(){function e(e){this.mode=h.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,s=this.data.length;t<s;t++){var o=[],i=this.data.charCodeAt(t);i>65536?(o[0]=240|(1835008&i)>>>18,o[1]=128|(258048&i)>>>12,o[2]=128|(4032&i)>>>6,o[3]=128|63&i):i>2048?(o[0]=224|(61440&i)>>>12,o[1]=128|(4032&i)>>>6,o[2]=128|63&i):i>128?(o[0]=192|(1984&i)>>>6,o[1]=128|63&i):o[0]=i,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function o(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var s=0;s<e.length&&0==e[s];)s++;this.num=new Array(e.length-s+t);for(var o=0;o<e.length-s;o++)this.num[o]=e[o+s]}function i(e,t){this.totalCount=e,this.dataCount=t}function r(){this.buffer=[],this.length=0}function n(){return"undefined"!=typeof CanvasRenderingContext2D}function a(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var s=t.toString().match(/android ([0-9]\.[0-9])/i);s&&s[1]&&(e=parseFloat(s[1]))}return e}function l(e,t){for(var s=1,o=u(e),i=0,r=f.length;i<=r;i++){var n=0;switch(t){case c.L:n=f[i][0];break;case c.M:n=f[i][1];break;case c.Q:n=f[i][2];break;case c.H:n=f[i][3]}if(o<=n)break;s++}if(s>f.length)throw new Error("Too long data");return s}function u(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,s=this.parsedData.length;t<s;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var s=new e(t);this.dataList.push(s),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,s){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[o][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,s),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,s)},setupPositionProbePattern:function(e,t){for(var s=-1;s<=7;s++)if(!(e+s<=-1||this.moduleCount<=e+s))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(0<=s&&s<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==s||6==s)||2<=s&&s<=4&&2<=o&&o<=4?this.modules[e+s][t+o]=!0:this.modules[e+s][t+o]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,s=0;s<8;s++){this.makeImpl(!0,s);var o=p.getLostPoint(this);(0==s||e>o)&&(e=o,t=s)}return t},createMovieClip:function(e,t,s){var o=e.createEmptyMovieClip(t,s),i=1;this.make();for(var r=0;r<this.modules.length;r++)for(var n=r*i,a=0;a<this.modules[r].length;a++){var l=a*i,u=this.modules[r][a];u&&(o.beginFill(0,100),o.moveTo(l,n),o.lineTo(l+i,n),o.lineTo(l+i,n+i),o.lineTo(l,n+i),o.endFill())}return o},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=p.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var s=0;s<e.length;s++){var o=e[t],i=e[s];if(null==this.modules[o][i])for(var r=-2;r<=2;r++)for(var n=-2;n<=2;n++)r==-2||2==r||n==-2||2==n||0==r&&0==n?this.modules[o+r][i+n]=!0:this.modules[o+r][i+n]=!1}},setupTypeNumber:function(e){for(var t=p.getBCHTypeNumber(this.typeNumber),s=0;s<18;s++){var o=!e&&1==(t>>s&1);this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=o}for(var s=0;s<18;s++){var o=!e&&1==(t>>s&1);this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=o}},setupTypeInfo:function(e,t){for(var s=this.errorCorrectLevel<<3|t,o=p.getBCHTypeInfo(s),i=0;i<15;i++){var r=!e&&1==(o>>i&1);i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(var i=0;i<15;i++){var r=!e&&1==(o>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var s=-1,o=this.moduleCount-1,i=7,r=0,n=this.moduleCount-1;n>0;n-=2)for(6==n&&n--;;){for(var a=0;a<2;a++)if(null==this.modules[o][n-a]){var l=!1;r<e.length&&(l=1==(e[r]>>>i&1));var u=p.getMask(t,o,n-a);u&&(l=!l),this.modules[o][n-a]=l,i--,i==-1&&(r++,i=7)}if(o+=s,o<0||this.moduleCount<=o){o-=s,s=-s;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,s,o){for(var n=i.getRSBlocks(e,s),a=new r,l=0;l<o.length;l++){var u=o[l];a.put(u.mode,4),a.put(u.getLength(),p.getLengthInBits(u.mode,e)),u.write(a)}for(var h=0,l=0;l<n.length;l++)h+=n[l].dataCount;if(a.getLengthInBits()>8*h)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*h+")");for(a.getLengthInBits()+4<=8*h&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;;){if(a.getLengthInBits()>=8*h)break;if(a.put(t.PAD0,8),a.getLengthInBits()>=8*h)break;a.put(t.PAD1,8)}return t.createBytes(a,n)},t.createBytes=function(e,t){for(var s=0,i=0,r=0,n=new Array(t.length),a=new Array(t.length),l=0;l<t.length;l++){var u=t[l].dataCount,h=t[l].totalCount-u;i=Math.max(i,u),r=Math.max(r,h),n[l]=new Array(u);for(var c=0;c<n[l].length;c++)n[l][c]=255&e.buffer[c+s];s+=u;var d=p.getErrorCorrectPolynomial(h),m=new o(n[l],d.getLength()-1),g=m.mod(d);a[l]=new Array(d.getLength()-1);for(var c=0;c<a[l].length;c++){var f=c+g.getLength()-a[l].length;a[l][c]=f>=0?g.get(f):0}}for(var v=0,c=0;c<t.length;c++)v+=t[c].totalCount;for(var b=new Array(v),y=0,c=0;c<i;c++)for(var l=0;l<t.length;l++)c<n[l].length&&(b[y++]=n[l][c]);for(var c=0;c<r;c++)for(var l=0;l<t.length;l++)c<a[l].length&&(b[y++]=a[l][c]);return b};for(var h={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},c={L:1,M:0,Q:3,H:2},d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,s){switch(e){case d.PATTERN000:return(t+s)%2==0;case d.PATTERN001:return t%2==0;case d.PATTERN010:return s%3==0;case d.PATTERN011:return(t+s)%3==0;case d.PATTERN100:return(Math.floor(t/2)+Math.floor(s/3))%2==0;case d.PATTERN101:return t*s%2+t*s%3==0;case d.PATTERN110:return(t*s%2+t*s%3)%2==0;case d.PATTERN111:return(t*s%3+(t+s)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),s=0;s<e;s++)t=t.multiply(new o([1,m.gexp(s)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case h.MODE_NUMBER:return 10;case h.MODE_ALPHA_NUM:return 9;case h.MODE_8BIT_BYTE:return 8;case h.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case h.MODE_NUMBER:return 12;case h.MODE_ALPHA_NUM:return 11;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case h.MODE_NUMBER:return 14;case h.MODE_ALPHA_NUM:return 13;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),s=0,o=0;o<t;o++)for(var i=0;i<t;i++){for(var r=0,n=e.isDark(o,i),a=-1;a<=1;a++)if(!(o+a<0||t<=o+a))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||0==a&&0==l||n==e.isDark(o+a,i+l)&&r++;r>5&&(s+=3+r-5)}for(var o=0;o<t-1;o++)for(var i=0;i<t-1;i++){var u=0;e.isDark(o,i)&&u++,e.isDark(o+1,i)&&u++,e.isDark(o,i+1)&&u++,e.isDark(o+1,i+1)&&u++,0!=u&&4!=u||(s+=3)}for(var o=0;o<t;o++)for(var i=0;i<t-6;i++)e.isDark(o,i)&&!e.isDark(o,i+1)&&e.isDark(o,i+2)&&e.isDark(o,i+3)&&e.isDark(o,i+4)&&!e.isDark(o,i+5)&&e.isDark(o,i+6)&&(s+=40);for(var i=0;i<t;i++)for(var o=0;o<t-6;o++)e.isDark(o,i)&&!e.isDark(o+1,i)&&e.isDark(o+2,i)&&e.isDark(o+3,i)&&e.isDark(o+4,i)&&!e.isDark(o+5,i)&&e.isDark(o+6,i)&&(s+=40);for(var h=0,i=0;i<t;i++)for(var o=0;o<t;o++)e.isDark(o,i)&&h++;var c=Math.abs(100*h/t/t-50)/5;return s+=10*c}},m={glog:function(e){if(e<1)throw new Error("glog("+e+")");return m.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return m.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)m.EXP_TABLE[g]=1<<g;for(var g=8;g<256;g++)m.EXP_TABLE[g]=m.EXP_TABLE[g-4]^m.EXP_TABLE[g-5]^m.EXP_TABLE[g-6]^m.EXP_TABLE[g-8];for(var g=0;g<255;g++)m.LOG_TABLE[m.EXP_TABLE[g]]=g;o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),s=0;s<this.getLength();s++)for(var i=0;i<e.getLength();i++)t[s+i]^=m.gexp(m.glog(this.get(s))+m.glog(e.get(i)));return new o(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=m.glog(this.get(0))-m.glog(e.get(0)),s=new Array(this.getLength()),i=0;i<this.getLength();i++)s[i]=this.get(i);for(var i=0;i<e.getLength();i++)s[i]^=m.gexp(m.glog(e.get(i))+t);return new o(s,0).mod(e)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],
i.getRSBlocks=function(e,t){var s=i.getRsBlockTable(e,t);if(void 0==s)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=s.length/3,r=[],n=0;n<o;n++)for(var a=s[3*n+0],l=s[3*n+1],u=s[3*n+2],h=0;h<a;h++)r.push(new i(l,u));return r},i.getRsBlockTable=function(e,t){switch(t){case c.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case c.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case c.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case c.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var s=0;s<t;s++)this.putBit(1==(e>>>t-s-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var f=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],v=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){function t(e,t){var s=document.createElementNS("http://www.w3.org/2000/svg",e);for(var o in t)t.hasOwnProperty(o)&&s.setAttribute(o,t[o]);return s}var s=this._htOption,o=this._el,i=e.getModuleCount();Math.floor(s.width/i),Math.floor(s.height/i);this.clear();var r=t("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:s.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(r),r.appendChild(t("rect",{fill:s.colorLight,width:"100%",height:"100%"})),r.appendChild(t("rect",{fill:s.colorDark,width:"1",height:"1",id:"template"}));for(var n=0;n<i;n++)for(var a=0;a<i;a++)if(e.isDark(n,a)){var l=t("use",{x:String(a),y:String(n)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(l)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),b="svg"===document.documentElement.tagName.toLowerCase(),y=b?v:n()?function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function t(e,t){var s=this;if(s._fFail=t,s._fSuccess=e,null===s._bSupportDataURI){var o=document.createElement("img"),i=function(){s._bSupportDataURI=!1,s._fFail&&s._fFail.call(s)},r=function(){s._bSupportDataURI=!0,s._fSuccess&&s._fSuccess.call(s)};return o.onabort=i,o.onerror=i,o.onload=r,void(o.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}s._bSupportDataURI===!0&&s._fSuccess?s._fSuccess.call(s):s._bSupportDataURI===!1&&s._fFail&&s._fFail.call(s)}if(this._android&&this._android<=2.1){var s=1/window.devicePixelRatio,o=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,t,i,r,n,a,l,u,h){if("nodeName"in e&&/img/i.test(e.nodeName))for(var c=arguments.length-1;c>=1;c--)arguments[c]=arguments[c]*s;else"undefined"==typeof u&&(arguments[1]*=s,arguments[2]*=s,arguments[3]*=s,arguments[4]*=s);o.apply(this,arguments)}}var i=function(e,t){this._bIsPainted=!1,this._android=a(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(e){var t=this._elImage,s=this._oContext,o=this._htOption,i=e.getModuleCount(),r=o.width/i,n=o.height/i,a=Math.round(r),l=Math.round(n);t.style.display="none",this.clear();for(var u=0;u<i;u++)for(var h=0;h<i;h++){var c=e.isDark(u,h),d=h*r,p=u*n;s.strokeStyle=c?o.colorDark:o.colorLight,s.lineWidth=1,s.fillStyle=c?o.colorDark:o.colorLight,s.fillRect(d,p,r,n),s.strokeRect(Math.floor(d)+.5,Math.floor(p)+.5,a,l),s.strokeRect(Math.ceil(d)-.5,Math.ceil(p)-.5,a,l)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&t.call(this,e)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},i}():function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,s=this._el,o=e.getModuleCount(),i=Math.floor(t.width/o),r=Math.floor(t.height/o),n=['<table style="border:0;border-collapse:collapse;">'],a=0;a<o;a++){n.push("<tr>");for(var l=0;l<o;l++)n.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+r+"px;background-color:"+(e.isDark(a,l)?t.colorDark:t.colorLight)+';"></td>');n.push("</tr>")}n.push("</table>"),s.innerHTML=n.join("");var u=s.childNodes[0],h=(t.width-u.offsetWidth)/2,c=(t.height-u.offsetHeight)/2;h>0&&c>0&&(u.style.margin=c+"px "+h+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}();s=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:c.H},"string"==typeof t&&(t={text:t}),t)for(var s in t)this._htOption[s]=t[s];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(y=v),this._android=a(),this._el=e,this._oQRCode=null,this._oDrawing=new y(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},s.prototype.makeCode=function(e){this._oQRCode=new t(l(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},s.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},s.prototype.clear=function(){this._oDrawing.clear()},s.CorrectLevel=c}(),e.exports=s},409:function(e,t){/*! lightgallery - v1.2.21 - 2016-06-28
	 * http://sachinchoolur.github.io/lightGallery/
	 * Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
!function(e,t,s,o){"use strict";var i={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},r=function(t){return this.core=e(t).data("lightGallery"),this.core.s=e.extend({},i,this.core.s),this.$el=e(t),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};r.prototype.init=function(){var e=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){e.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},r.prototype.build=function(){function s(e,t,s){var o,a=i.core.isVideo(e,s)||{},l="";a.youtube||a.vimeo||a.dailymotion?a.youtube?o=i.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+a.youtube[1]+"/"+i.core.s.youtubeThumbSize+".jpg":t:a.vimeo?i.core.s.loadVimeoThumbnail?(o="//i.vimeocdn.com/video/error_"+n+".jpg",l=a.vimeo[1]):o=t:a.dailymotion&&(o=i.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+a.dailymotion[1]:t):o=t,r+='<div data-vimeo-id="'+l+'" class="lg-thumb-item" style="width:'+i.core.s.thumbWidth+"px; margin-right: "+i.core.s.thumbMargin+'px"><img src="'+o+'" /></div>',l=""}var o,i=this,r="",n="",a='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":n="640";break;case"thumbnail_medium":n="200x150";break;case"thumbnail_small":n="100x75"}if(i.core.$outer.addClass("lg-has-thumb"),i.core.$outer.find(".lg").append(a),i.$thumbOuter=i.core.$outer.find(".lg-thumb-outer"),i.thumbOuterWidth=i.$thumbOuter.width(),i.core.s.animateThumb&&i.core.$outer.find(".lg-thumb").css({width:i.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&i.$thumbOuter.css("height",i.core.s.thumbContHeight+"px"),i.core.s.dynamic)for(var l=0;l<i.core.s.dynamicEl.length;l++)s(i.core.s.dynamicEl[l].src,i.core.s.dynamicEl[l].thumb,l);else i.core.$items.each(function(t){i.core.s.exThumbImage?s(e(this).attr("href")||e(this).attr("data-src"),e(this).attr(i.core.s.exThumbImage),t):s(e(this).attr("href")||e(this).attr("data-src"),e(this).find("img").attr("src"),t)});i.core.$outer.find(".lg-thumb").html(r),o=i.core.$outer.find(".lg-thumb-item"),o.each(function(){var t=e(this),s=t.attr("data-vimeo-id");s&&e.getJSON("//www.vimeo.com/api/v2/video/"+s+".json?callback=?",{format:"json"},function(e){t.find("img").attr("src",e[0][i.core.s.vimeoThumbSize])})}),o.eq(i.core.index).addClass("active"),i.core.$el.on("onBeforeSlide.lg.tm",function(){o.removeClass("active"),o.eq(i.core.index).addClass("active")}),o.on("click.lg touchend.lg",function(){var t=e(this);setTimeout(function(){(i.thumbClickable&&!i.core.lgBusy||!i.core.doCss())&&(i.core.index=t.index(),i.core.slide(i.core.index,!1,!0))},50)}),i.core.$el.on("onBeforeSlide.lg.tm",function(){i.animateThumb(i.core.index)}),e(t).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){i.animateThumb(i.core.index),i.thumbOuterWidth=i.$thumbOuter.width()},200)})},r.prototype.setTranslate=function(e){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+e+"px, 0px, 0px)"})},r.prototype.animateThumb=function(e){var t=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var s;switch(this.core.s.currentPagerPosition){case"left":s=0;break;case"middle":s=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":s=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-s,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(t.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||t.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||t.css("left",-this.left+"px"),this.setTranslate(this.left)}},r.prototype.enableThumbDrag=function(){var s=this,o=0,i=0,r=!1,n=!1,a=0;s.$thumbOuter.addClass("lg-grab"),s.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(e){s.thumbTotalWidth>s.thumbOuterWidth&&(e.preventDefault(),o=e.pageX,r=!0,s.core.$outer.scrollLeft+=1,s.core.$outer.scrollLeft-=1,s.thumbClickable=!1,s.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),e(t).on("mousemove.lg.thumb",function(e){r&&(a=s.left,n=!0,i=e.pageX,s.$thumbOuter.addClass("lg-dragging"),a-=i-o,a>s.thumbTotalWidth-s.thumbOuterWidth&&(a=s.thumbTotalWidth-s.thumbOuterWidth),a<0&&(a=0),s.setTranslate(a))}),e(t).on("mouseup.lg.thumb",function(){n?(n=!1,s.$thumbOuter.removeClass("lg-dragging"),s.left=a,Math.abs(i-o)<s.core.s.swipeThreshold&&(s.thumbClickable=!0)):s.thumbClickable=!0,r&&(r=!1,s.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},r.prototype.enableThumbSwipe=function(){var e=this,t=0,s=0,o=!1,i=0;e.core.$outer.find(".lg-thumb").on("touchstart.lg",function(s){e.thumbTotalWidth>e.thumbOuterWidth&&(s.preventDefault(),t=s.originalEvent.targetTouches[0].pageX,e.thumbClickable=!1)}),e.core.$outer.find(".lg-thumb").on("touchmove.lg",function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),s=r.originalEvent.targetTouches[0].pageX,o=!0,e.$thumbOuter.addClass("lg-dragging"),i=e.left,i-=s-t,i>e.thumbTotalWidth-e.thumbOuterWidth&&(i=e.thumbTotalWidth-e.thumbOuterWidth),i<0&&(i=0),e.setTranslate(i))}),e.core.$outer.find(".lg-thumb").on("touchend.lg",function(){e.thumbTotalWidth>e.thumbOuterWidth&&o?(o=!1,e.$thumbOuter.removeClass("lg-dragging"),Math.abs(s-t)<e.core.s.swipeThreshold&&(e.thumbClickable=!0),e.left=i):e.thumbClickable=!0})},r.prototype.toogle=function(){var e=this;e.core.s.toogleThumb&&(e.core.$outer.addClass("lg-can-toggle"),e.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>'),e.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){e.core.$outer.toggleClass("lg-thumb-open")}))},r.prototype.thumbkeyPress=function(){var s=this;e(t).on("keydown.lg.thumb",function(e){38===e.keyCode?(e.preventDefault(),s.core.$outer.addClass("lg-thumb-open")):40===e.keyCode&&(e.preventDefault(),s.core.$outer.removeClass("lg-thumb-open"))})},r.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&(e(t).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},e.fn.lightGallery.modules.Thumbnail=r}(jQuery,window,document)},410:function(e,t,s){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=s(411);s(414);var r=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.$elem=$(t),this.$commentList=this.$elem.find(".comment-list"),this.$moreComment=this.$elem.find(".loading-banner"),this.opts=$.extend({resolve:function(e){return e}},this.$elem.data(),s),this.bindEvents()}return e.prototype.bindEvents=function(){var e=this;this.$commentList.length&&(this.$commentList.approve(this.opts.approveOpts),this.$commentList.data("approve").addApproveStatus()),this.$moreComment.length&&this.$moreComment.moreComment(this.opts.moreCommentOpts).on("fetch",function(t,s){e.$commentList.append(s.comments.map(function(t){return i.render({comment:e.opts.resolve(t)})}))})},e}(),n=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),this.$elem=$(t),this.$content=this.$elem.find(".content"),this.opts=$.extend({offset:0,limit:10},this.$elem.data(),s),!this.opts.url)throw Error("请指定评论请求接口");this.bindEvents()}return e.prototype.bindEvents=function(){var e=this;this.$elem.on("click",".click",function(){e.fetch()})},e.prototype.fetch=function(){var e=this;this.$content.removeClass("click").text("加载中...");var t=this.opts,s=t.url,o=t.offset,i=t.limit;$.get(s,{offset:o,limit:i}).done(function(t){if(t.error)return e.fetchFail();t=t.data;var s=t.total||t.paging.total,r=t.paging||{limit:i,hasMore:o+i<s};e.opts.offset+=i,e.opts.limit=r.limit,r.hasMore?e.$content.addClass("click").text("查看更多回复"):e.noMore(),e.$elem.trigger("fetch",t)}).fail(function(t){e.fetchFail()})},e.prototype.fetchFail=function(){this.$content.addClass("click").text("加载失败，请重试")},e.prototype.noMore=function(){this.$content.removeClass("click").text("无更多内容")},e}();$.fn.commentList=function(e){return $(this).data("commentList",new r(this,e)),this},$.fn.moreComment=function(e){return $(this).data("moreComment",new n(this,e)),this},s(417)},411:function(e,t,s){var o,i=s(50);o=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var r=(s(51)(o),i.webpackDependencies||(i.webpackDependencies={}));r["../_ui/comment.html"]=s(412);var n=s(171);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["client/pages/_ui/comment-item.html"]=function(){function e(e,t,s,o,i){var r=null,n=null,a="";try{var l=null;e.getTemplate("../_ui/comment.html",!1,"client/pages/_ui/comment-item.html",!1,function(u,h){return u?void i(u):void h.getExported(function(u,h){if(u)return void i(u);if(!h.hasOwnProperty("commentItem"))return void i(new Error("cannot import 'commentItem'"));var c=h.commentItem;t.setVariable("commentItem",c),a+="\n\n",a+=o.suppressValue((r=2,n=12,o.callWrap(c,"commentItem",t,[o.contextOrFrameLookup(t,s,"comment")])),e.opts.autoescape),a+="\n",l?l.rootRenderFunc(e,t,s,o,i):i(null,a)})})}catch(e){i(o.handleError(e,r,n))}}return{root:e}}()}(),e.exports=n(i,o,i.nunjucksPrecompiled["client/pages/_ui/comment-item.html"],r)},412:function(e,t,s){var o,i=s(50);o=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var r=(s(51)(o),i.webpackDependencies||(i.webpackDependencies={}));r["./approve.html"]=s(413);var n=s(171);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["client/pages/_ui/comment.html"]=function(){function e(e,t,s,o,i){var r=null,n=null,a="";try{var l=null;e.getTemplate("./approve.html",!1,"client/pages/_ui/comment.html",!1,function(u,h){return u?void i(u):void h.getExported(function(u,h){if(u)return void i(u);if(!h.hasOwnProperty("approve"))return void i(new Error("cannot import 'approve'"));var c=h.approve;t.setVariable("approve",c),a+="\n\n",a+="\n",a+="\n";var d=o.makeMacro(["comment","opts"],[],function(i,a,l){s=s.push(!0),l=l||{},l.hasOwnProperty("caller")&&s.set("caller",l.caller),s.set("comment",i),s.set("opts",a);var u="";if(u+='\n<li class="comment-container" data-val="{commentid:',u+=o.suppressValue(o.memberLookup(i,"id"),e.opts.autoescape),u+='}">\n  <div class="portrait-container">\n    <div class="portrait">\n      <img src="',u+=o.suppressValue(e.getFilter("venus").call(t,e.getFilter("defaultUserAvatar").call(t,o.memberLookup(i,"avatarurl")),100,100),e.opts.autoescape),u+='" alt="">\n    </div>\n    <i class="level-',u+=o.suppressValue(o.memberLookup(i,"userLevel"),e.opts.autoescape),u+='-icon"></i>\n  </div>\n  <div class="comment-main">\n    <div class="main-header clearfix">\n      <div class="user">\n        <span class="name">',u+=o.suppressValue(o.memberLookup(i,"nickName"),e.opts.autoescape),u+="</span>\n        ",o.memberLookup(i,"tagList")){u+="\n          ",u+="\n          ";var h;h=!1,s.set("showTag4",h,!0),s.topLevel&&t.setVariable("showTag4",h),s.topLevel&&t.addExport("showTag4",h),u+="\n          ";var d;d=!1,s.set("showTag5",d,!0),s.topLevel&&t.setVariable("showTag5",d),s.topLevel&&t.addExport("showTag5",d),u+="\n          ",s=s.push();var p=o.memberLookup(o.memberLookup(i,"tagList"),"fixed");if(p)for(var m=p.length,g=0;g<p.length;g++){var f=p[g];if(s.set("tag",f),s.set("loop.index",g+1),s.set("loop.index0",g),s.set("loop.revindex",m-g),s.set("loop.revindex0",m-g-1),s.set("loop.first",0===g),s.set("loop.last",g===m-1),s.set("loop.length",m),u+="\n            ",5==o.memberLookup(f,"id")){u+="\n              ";var v;v=!0,s.set("showTag5",v,!0),s.topLevel&&t.setVariable("showTag5",v),s.topLevel&&t.addExport("showTag5",v),u+="\n            "}if(u+="\n            ",4==o.memberLookup(f,"id")){u+="\n              ";var b;b=!0,s.set("showTag4",b,!0),s.topLevel&&t.setVariable("showTag4",b),s.topLevel&&t.addExport("showTag4",b),u+="\n            "}u+="\n          "}s=s.pop(),u+="\n          ",o.contextOrFrameLookup(t,s,"showTag5")&&(u+='\n            <i class="icon cert-person-icon"></i>\n          '),u+="\n          ",o.contextOrFrameLookup(t,s,"showTag4")&&(u+="\n            <span class='tag'>购</span>\n          "),u+="\n        "}return u+='\n      </div>\n      <div class="time" title="',u+=o.suppressValue(o.memberLookup(i,"startTime"),e.opts.autoescape),u+='">\n        <span title="',u+=o.suppressValue(o.memberLookup(i,"startTime"),e.opts.autoescape),u+='">',u+=o.suppressValue(e.getFilter("timeAgo").call(t,o.memberLookup(i,"startTime")),e.opts.autoescape),u+="</span>\n        ",u+=o.suppressValue(o.memberLookup(i,"score")?(r=38,n=18,o.callWrap(o.contextOrFrameLookup(t,s,"scoreStar"),"scoreStar",t,[2*o.memberLookup(i,"score")])):"",e.opts.autoescape),u+="\n      </div>\n      ",u+=o.suppressValue((r=40,n=13,o.callWrap(c,"approve",t,[i,!0])),e.opts.autoescape),u+='\n    </div>\n    <div class="comment-content">',u+=o.suppressValue(o.memberLookup(i,"content"),e.opts.autoescape),u+="</div>\n  </div>\n</li>\n",s=s.pop(),new o.SafeString(u)});t.addExport("commentItem"),t.setVariable("commentItem",d),a+="\n\n",a+="\n";var p=o.makeMacro([],[],function(e){s=s.push(!0),e=e||{},e.hasOwnProperty("caller")&&s.set("caller",e.caller);var t="";return t+='\n<div class="no-comments">\n  <div class="no-comments-img"></div>\n  <div class="no-comments-text">暂无评论</div>\n</div>\n',s=s.pop(),new o.SafeString(t)});t.addExport("noComment"),t.setVariable("noComment",p),a+="\n\n",a+="\n";var m=o.makeMacro(["hasMore"],[],function(t,i){s=s.push(!0),i=i||{},i.hasOwnProperty("caller")&&s.set("caller",i.caller),s.set("hasMore",t);var r="";return r+='\n<div class="loading-banner">\n  <span class="content ',r+=o.suppressValue(t?"click":"",e.opts.autoescape),r+='">\n    ',r+=o.suppressValue(t?"查看更多回复":"无更多内容",e.opts.autoescape),r+="\n  </span>\n</div>\n",s=s.pop(),new o.SafeString(r)});t.addExport("moreComment"),t.setVariable("moreComment",m),a+="\n\n",a+="\n",a+="\n";var g=o.makeMacro(["comments","opts"],[],function(i,a,l){s=s.push(!0),l=l||{},l.hasOwnProperty("caller")&&s.set("caller",l.caller),s.set("comments",i),s.set("opts",a);var u="";if(u+="\n  ",o.memberLookup(o.memberLookup(i,"comments"),"length")){u+='\n  <ul class="comment-list ',u+=o.suppressValue(o.memberLookup(a,"condensed")?"comment-condensed":"",e.opts.autoescape),u+='">\n    ',s=s.push();var h=o.memberLookup(i,"comments");if(h)for(var c=h.length,g=0;g<h.length;g++){var f=h[g];s.set("comment",f),s.set("loop.index",g+1),s.set("loop.index0",g),s.set("loop.revindex",c-g),s.set("loop.revindex0",c-g-1),s.set("loop.first",0===g),s.set("loop.last",g===c-1),s.set("loop.length",c),u+="\n      ",u+=o.suppressValue((r=70,n=18,o.callWrap(d,"commentItem",t,[(r=70,n=31,o.callWrap(o.memberLookup(a,"resolve"),'opts["resolve"]',t,[f]))])),e.opts.autoescape),u+="\n    "}s=s.pop(),u+="\n  </ul>\n  <div>",u+=o.suppressValue((r=73,n=19,o.callWrap(m,"moreComment",t,[o.memberLookup(o.memberLookup(i,"paging"),"hasMore")||o.memberLookup(o.memberLookup(i,"comments"),"length")<o.memberLookup(i,"total")])),e.opts.autoescape),u+="</div>\n  "}else u+="\n    ",u+=o.suppressValue((r=75,n=14,o.callWrap(p,"noComment",t,[])),e.opts.autoescape),u+="\n  ";return u+="\n",s=s.pop(),new o.SafeString(u)});t.addExport("commentList"),t.setVariable("commentList",g),a+="\n\n",l?l.rootRenderFunc(e,t,s,o,i):i(null,a)})})}catch(e){i(o.handleError(e,r,n))}}return{root:e}}()}(),e.exports=n(i,o,i.nunjucksPrecompiled["client/pages/_ui/comment.html"],r)},413:function(e,t,s){var o,i=s(50);o=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var r=(s(51)(o),i.webpackDependencies||(i.webpackDependencies={})),n=s(171);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["client/pages/_ui/approve.html"]=function(){function e(e,t,s,o,i){var r=null,n=null,a="";try{var l=null;a+="\n\n";var u=o.makeMacro(["item","isComment"],[],function(t,i,r){s=s.push(!0),r=r||{},r.hasOwnProperty("caller")&&s.set("caller",r.caller),s.set("item",t),s.set("isComment",i);var n="";return n+='\n<div class="approve ',n+=o.suppressValue(o.memberLookup(t,"approved")?"active":"",e.opts.autoescape),n+='" data-id="',n+=o.suppressValue(o.memberLookup(t,"id"),e.opts.autoescape),n+='" data-act="',n+=o.suppressValue(i?"comment-approve-click":"images-approve-click",e.opts.autoescape),n+='">\n  <i class="approve-icon"></i><span class="num">',n+=o.suppressValue(o.memberLookup(t,"approve"),e.opts.autoescape),n+="</span>\n</div>\n",s=s.pop(),new o.SafeString(n)});t.addExport("approve"),t.setVariable("approve",u),a+="\n",l?l.rootRenderFunc(e,t,s,o,i):i(null,a)}catch(e){i(o.handleError(e,r,n))}}return{root:e}}()}(),e.exports=n(i,o,i.nunjucksPrecompiled["client/pages/_ui/approve.html"],r)},414:function(e,t,s){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=s(36),r=s(218),n=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.$elem=$(t),this.opts=$.extend({approveUrl:"/ajax/proxy/sns/up/add.json",unApproveUrl:"/ajax/proxy/sns/up/remove.json",lsPrefix:"mypc-like-comment",upType:3,approveAjax:null},this.$elem.data(),s),this.bindEvents()}return e.prototype.bindEvents=function(){function e(){return t.handleApproveClick.call(t,$(this))}var t=this;this.$elem.hasClass("approve")?this.$elem.on("click",(0,i.checkLogin)((0,r.noRepeatRequest)(e))):this.$elem.on("click",".approve",(0,i.checkLogin)((0,r.noRepeatRequest)(e)))},e.prototype.handleApproveClick=function(e){var t=this;if(!system.user)return console.error("未登录不可点赞");var s=e.data("id"),o=!e.hasClass("active");return this.approve(s,o).then(function(s){s.error?alert("点赞失败"):t.changeStatus(e,o)})},e.prototype.approve=function(e,t){if(!system.user)return console.error("未登录不可点赞");var s=this.opts,o=s.approveUrl,i=s.unApproveUrl,r=s.upType,n=s.approveAjax;if(n)return n(e,t);var a=t?o:i,l={itemId:e,upType:r};return $.ajax(a,{data:l,method:"post",headers:{token:system.user.token}})},e.prototype.changeStatus=function(e,t){if(system.user){t="undefined"==typeof t?!e.hasClass("active"):t;var s=e.data("id"),o=this.generateLsKey(s);if(o){var i=e.find(".num"),r=Number(i.text());t?(e.addClass("active"),localStorage.setItem(o,1),i.text(r+1)):(e.removeClass("active"),localStorage.removeItem(o),i.text(r-1))}}},e.prototype.addApproveStatus=function(e){var t=this;system.user&&(e=e||this.$elem,e.find(".approve[data-id]").each(function(){var e=$(this),s=e.data("id"),o=t.generateLsKey(s);o&&localStorage.getItem(o)&&e.addClass("active")}))},e.prototype.generateLsKey=function(e){return system.user?[this.opts.lsPrefix,system.user.id,e].join("-"):""},e}();$.fn.approve=function(e){return $(this).data("approve",new n(this,e)),this},s(415)},415:261,417:261,420:function(e,t,s){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=s(388),r=s(421);s(387);var n=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.$elem=$(t),this.opts=$.extend({url:location.href,mUrl:"",content:document.title,img:"",actKey:"",actVal:""},this.$elem.data(),s),this.bindEvents()}return e.prototype.bindEvents=function(){var e=this.createContent();this.$elem.globalOverlay(e)},e.prototype.createContent=function(){var e=$(r.render(this.opts));return new i(e.find(".share-qrcode-img").get(0),{text:this.opts.mUrl,width:90,height:90,correctLevel:i.CorrectLevel.H}),e},e}();$.fn.share=function(e){return $(this).data("share",new n(this,e)),this},s(423)},421:function(e,t,s){var o,i=s(50);o=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var r=(s(51)(o),i.webpackDependencies||(i.webpackDependencies={}));r["./share.html"]=s(422);var n=s(171);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["client/pages/_ui/share-tpl.html"]=function(){function e(e,t,s,o,i){var r=null,n=null,a="";try{var l=null;e.getTemplate("./share.html",!1,"client/pages/_ui/share-tpl.html",!1,function(u,h){return u?void i(u):void h.getExported(function(u,h){if(u)return void i(u);if(!h.hasOwnProperty("shareBoard"))return void i(new Error("cannot import 'shareBoard'"));var c=h.shareBoard;t.setVariable("shareBoard",c),a+="\n\n",a+=o.suppressValue((r=2,n=10,o.callWrap(c,"shareBoard",t,[o.contextOrFrameLookup(t,s,"url"),o.contextOrFrameLookup(t,s,"content"),o.contextOrFrameLookup(t,s,"img"),o.contextOrFrameLookup(t,s,"actKey"),o.contextOrFrameLookup(t,s,"actVal")])),e.opts.autoescape),a+="\n",l?l.rootRenderFunc(e,t,s,o,i):i(null,a)})})}catch(e){i(o.handleError(e,r,n))}}return{root:e}}()}(),e.exports=n(i,o,i.nunjucksPrecompiled["client/pages/_ui/share-tpl.html"],r)},422:function(e,t,s){var o,i=s(50);o=i.currentEnv?i.currentEnv:i.currentEnv=new i.Environment([],{autoescape:!0});var r=(s(51)(o),i.webpackDependencies||(i.webpackDependencies={})),n=s(171);!function(){(i.nunjucksPrecompiled=i.nunjucksPrecompiled||{})["client/pages/_ui/share.html"]=function(){function e(e,t,s,o,i){var r=null,n=null,a="";try{var l=null;a+="\n";var u=o.makeMacro(["url","content","img","actKey","actVal"],[],function(i,r,n,a,l,u){s=s.push(!0),u=u||{},u.hasOwnProperty("caller")&&s.set("caller",u.caller),s.set("url",i),s.set("content",r),s.set("img",n),s.set("actKey",a),s.set("actVal",l);var h="";return h+="\n",i=e.getFilter("urlencode").call(t,i),s.set("url",i,!0),s.topLevel&&t.setVariable("url",i),s.topLevel&&t.addExport("url",i),h+="\n",r=e.getFilter("urlencode").call(t,e.getFilter("truncate").call(t,e.getFilter("d").call(t,r,"猫眼电影",!0),300,!0)),s.set("content",r,!0),s.topLevel&&t.setVariable("content",r),s.topLevel&&t.addExport("content",r),h+="\n",n=e.getFilter("urlencode").call(t,e.getFilter("d").call(t,n,"http://p0.meituan.net/show/5ef0eed621e4f22497d6e4fccbc220e38066.png",!0)),s.set("img",n,!0),s.topLevel&&t.setVariable("img",n),s.topLevel&&t.addExport("img",n),h+='\n<div class="share-board">\n  <div class="share-qrcode">\n    <div class="share-qrcode-desc">QQ / 微信扫码</div>\n    <div class="share-qrcode-img"></div>\n  </div>\n  <div class="share-list">\n  <a target="_blank" class="share-icon share-icon-douban" data-act="',h+=o.suppressValue(a,e.opts.autoescape),h+='-share-douban" data-val="',h+=o.suppressValue(l,e.opts.autoescape),h+='"\n  href="https://www.douban.com/share/service/?href=',h+=o.suppressValue(i,e.opts.autoescape),h+="&name=",h+=o.suppressValue(r,e.opts.autoescape),h+='" title="分享到豆瓣">豆瓣</a>\n  <a target="_blank" class="share-icon share-icon-qzone" data-act="',h+=o.suppressValue(a,e.opts.autoescape),h+='-share-qqzone" data-val="',h+=o.suppressValue(l,e.opts.autoescape),h+='"\n  href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=',h+=o.suppressValue(i,e.opts.autoescape),h+="&summary=",h+=o.suppressValue(r,e.opts.autoescape),h+="&pics=",h+=o.suppressValue(n,e.opts.autoescape),h+='" title="分享到QQ空间">QQ空间</a>\n  <a target="_blank" class="share-icon share-icon-renren" data-act="',h+=o.suppressValue(a,e.opts.autoescape),h+='-share-renren" data-val="',h+=o.suppressValue(l,e.opts.autoescape),h+='"\n  href="http://widget.renren.com/dialog/share?resourceUrl=',h+=o.suppressValue(i,e.opts.autoescape),h+="&srcUrl=",h+=o.suppressValue(i,e.opts.autoescape),h+="&description=",h+=o.suppressValue(r,e.opts.autoescape),h+="&pic=",h+=o.suppressValue(n,e.opts.autoescape),h+='" title="分享到人人网">人人网</a>\n  <a target="_blank" class="share-icon share-icon-weibo" data-act="',h+=o.suppressValue(a,e.opts.autoescape),h+='-share-weibo" data-val="',h+=o.suppressValue(l,e.opts.autoescape),h+='"\n  href="http://v.t.sina.com.cn/share/share.php?appkey=375875218&url=',h+=o.suppressValue(i,e.opts.autoescape),h+="&title=",h+=o.suppressValue(r,e.opts.autoescape),h+="&pic=",h+=o.suppressValue(n,e.opts.autoescape),h+='" title="分享到新浪微博">新浪微博</a>\n  <a target="_blank" class="share-icon share-icon-tweibo" data-act="',h+=o.suppressValue(a,e.opts.autoescape),h+='-share-tweibo" data-val="',h+=o.suppressValue(l,e.opts.autoescape),h+='"\n  href="http://v.t.qq.com/share/share.php?appkey=51d04b4824744e71bd1e55baceb42562&url=',h+=o.suppressValue(i,e.opts.autoescape),h+="&title=",h+=o.suppressValue(r,e.opts.autoescape),h+="&pic=",h+=o.suppressValue(n,e.opts.autoescape),h+='" title="分享到腾讯微博">腾讯微博</a>\n  </div>\n</div>\n',s=s.pop(),new o.SafeString(h)});t.addExport("shareBoard"),t.setVariable("shareBoard",u),a+="\n",l?l.rootRenderFunc(e,t,s,o,i):i(null,a)}catch(e){i(o.handleError(e,r,n))}}return{root:e}}()}(),e.exports=n(i,o,i.nunjucksPrecompiled["client/pages/_ui/share.html"],r)},423:261,425:function(e,t){"use strict";e.exports={resolveNewsComment:function(e){var t={id:e.id,content:e.text,avatarurl:e.author.avatarurl,nickName:e.author.nickName,startTime:e.created,approve:e.upCount};return"undefined"!=typeof window&&window.localStorage&&localStorage.getItem("mypc-like-comment-"+e.id)&&(t.approved=!0),t},resolveVideoComment:function(e){return e.startTime=e.time,e.avatarurl=e.avatarUrl,"undefined"!=typeof window&&window.localStorage&&localStorage.getItem("mypc-like-comment-video-"+e.id)&&(e.approved=!0),e}}},426:261});